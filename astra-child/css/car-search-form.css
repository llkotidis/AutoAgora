/* Car Search Form Styles */
/* Adapted for car-filter-form.php */
/* ---------------------------------------- */

.car-filter-form {
  /* Was: #car-search-form */
  border-radius: var(--border-radius-large);
  background: var(--white);
  padding: 2rem;
  width: 100%; /* Adapted: typically filter forms span width, adjust if fixed like 450px is still needed */
  max-width: 100%;
  display: flex;
  flex-direction: column;
  gap: 1.35rem;
  margin-left: auto; /* Optional: if you want to center it like original fixed width might have */
  margin-right: auto; /* Optional: if you want to center it */
}

.car-filter-form h2 {
  /* Was: #car-search-form h1 */
  font-size: 1.75rem;
  line-height: 1.1;
  margin: 0 0 0.5rem 0;
}

/* Transition styles for more options */
#more-options {
  transition: opacity 0.2s ease-out, transform 0.2s ease-out, visibility 0.2s,
    max-height 0.2s ease-out; /* Added max-height */
  opacity: 0;
  transform: translateY(-10px);
  visibility: hidden;
  overflow: hidden; /* Added for smoother transition with max-height */
  max-height: 0; /* Added for transition */
  display: flex; /* To inherit gap from parent or apply its own internal gap */
  flex-direction: column;
  gap: 1.35rem; /* To match the main form's gap for consistency */
}

#more-options.show {
  opacity: 1;
  transform: translateY(0);
  visibility: visible;
  max-height: 1000px; /* Adjust if more space is needed, for transition */
}

/* .car-search-container styles removed - unclear if .car-filter-form-container needs this */

/* Spacing and layout for filter groups */
.car-filter-form .filter-form-group {
  /* Was: .car-search-form .form-row */
  width: 100%;
  display: flex;
  flex-direction: column; /* Default for label above input */
  gap: 0.5rem; /* Added for spacing between label and input block */
}

/* Style the 'More options' link container and link */
.more-options-link-container {
  text-align: center; /* Center the link */
  margin-top: 0.5rem; /* Space above the link */
  margin-bottom: 1rem; /* Space below the link before #more-options opens */
}
.more-options-link a, /* Targeting the <a> tag directly */
.more-options-link {
  text-decoration: none;
  color: #007bff;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  font-weight: 600;
}

.more-options-link .chevron {
  display: inline-block;
  transition: transform 0.2s ease-in-out;
  /* transform: rotate(0deg); Default: Point down, HTML entity used is already down */
  font-size: 1em;
  line-height: 1;
  transform-origin: center;
}
.more-options-link a.rotate .chevron,
.more-options-link.rotate .chevron {
  transform: rotate(-180deg); /* Point up */
}

/* Rows that should have side-by-side inputs */
.car-filter-form .filter-range-fields {
  /* Was: .car-search-form .form-row.make-model-row, etc. */
  display: flex;
  flex-direction: row;
  gap: 1rem;
  width: 100%; /* Ensure the container for side-by-side inputs takes full width */
}

.car-filter-form .filter-range-fields > * {
  /* Ensure items in range fields share space */
  flex-grow: 1;
  width: auto; /* Allow flexbox to manage width */
}

/* Spacing between label and input block */
.car-filter-form .filter-form-group label {
  /* Was: .car-search-form .form-group label */
  display: block;
  width: 100%;
  margin-bottom: 0.25rem; /* Adjusted from 0.5rem, as group has gap now */
  font-weight: 600;
  font-size: 1.1rem;
}

/* Style for #car-search-error removed - no direct equivalent */

/* Consolidated Input/Select/Multi-Select Display Styles */
.car-filter-form select,
.car-filter-form input[type="text"], /* Add other input types if needed from your form */
.car-filter-form input[type="number"], /* Assuming you might have number inputs */
.car-filter-form .multi-select-display /* Style the display part of multi-selects */ {
  width: 100%; /* Ensure they fill the form-group or their flex item container */
  padding: 8px 8px;
  border: var(--border);
  border-radius: var(--border-radius-small);
  background-color: var(--white);
  color: var(--text-color);
  font-size: 0.875rem;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  box-sizing: border-box; /* Added for consistent sizing */
}

/* Add specific background arrow for SELECT only */
.car-filter-form select {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 8px center;
  background-size: 1em;
  padding-right: 2.5em; /* Add padding to prevent text overlap */
}

/* Combined Focus Styles */
.car-filter-form input:focus,
.car-filter-form select:focus,
.car-filter-form .multi-select-display:focus, /* Basic focus for display */
.car-filter-form .multi-select-filter.focused .multi-select-display /* If JS adds a 'focused' class */ {
  outline: none;
  border-color: var(--dark-blue);
  box-shadow: 0 0 0 2px rgba(11, 114, 193, 0.1);
}

/* Combined Disabled Styles */
.car-filter-form input:disabled,
.car-filter-form select:disabled,
.car-filter-form .multi-select-display.disabled /* Assumes a .disabled class is added via JS */ {
  background-color: #f5f5f5;
  cursor: not-allowed;
  opacity: 0.7;
}
/* Styling for disabled options within multi-select popup */
.car-filter-form .multi-select-popup li.disabled-option label {
  color: #aaa;
  cursor: not-allowed;
}
.car-filter-form .multi-select-popup li.disabled-option input[type="checkbox"] {
  cursor: not-allowed;
}

/* Button Styles - Applied to the new submit button */
.car-filter-form .filter-submit-button,
.car-filter-form .filter-reset-button /* Styling reset button similarly for now */ {
  width: auto; /* Changed from 100% to auto for better fit in actions row */
  padding: 12px 20px; /* Adjusted padding */
  border: none;
  border-radius: 4px;
  font-size: 16px;
  font-weight: 500;
  color: #fff;
  background: linear-gradient(135deg, #007bff, #0056b3);
  cursor: pointer;
  transition: background 0.3s ease;
  /* margin: 1rem 0 0 0; Removed specific margin-top, handled by actions container */
}

.car-filter-form .filter-submit-button:hover,
.car-filter-form .filter-reset-button:hover {
  background: linear-gradient(135deg, #0056b3, #004085);
}

/* Container for action buttons (Search, Reset) */
.car-filter-form .filter-form-actions {
  display: flex;
  gap: 1rem;
  margin-top: 1rem;
  justify-content: flex-end; /* Aligns buttons to the right, common practice */
}

/* Styling for the multi-select popup itself */
.car-filter-form .multi-select-popup {
  border: 1px solid #ccc;
  border-top: none; /* Usually attached to the display element */
  border-radius: 0 0 var(--border-radius-small) var(--border-radius-small);
  background-color: var(--white);
  position: absolute; /* Assuming it's absolutely positioned by JS */
  z-index: 100; /* Ensure it's above other elements */
  max-height: 200px; /* Example max height */
  overflow-y: auto;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}
.car-filter-form .multi-select-popup ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.car-filter-form .multi-select-popup li label {
  display: block;
  padding: 8px 12px;
  cursor: pointer;
  font-weight: normal; /* Override general label boldness if needed */
  font-size: 0.875rem;
}
.car-filter-form .multi-select-popup li label:hover {
  background-color: #f0f0f0;
}
.car-filter-form .multi-select-popup li input[type="checkbox"] {
  margin-right: 8px;
  width: auto; /* Override general input width */
}

/* Range separator style */
.car-filter-form .filter-range-fields .range-separator {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 0; /* Don't let separator grow */
  padding: 0 0.5rem;
}

/* Make sure .car-filter-form-container allows the form to center if it has a max-width */
.car-filter-form-container.context-default {
  /* Example: targeting a specific context if needed */
  /* Add any container specific styles here if form is not full width */
}

/* Responsive adjustments if needed */
@media (max-width: 600px) {
  .car-filter-form .filter-range-fields {
    flex-direction: column; /* Stack min/max fields on small screens */
    gap: 0.5rem; /* Adjust gap for stacked layout */
  }
  .car-filter-form .filter-form-actions {
    flex-direction: column;
  }
  .car-filter-form .filter-form-actions button {
    width: 100%; /* Make buttons full width in column layout */
  }
}
